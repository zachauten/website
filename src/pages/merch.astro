---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout
  title="Merch - North Carolina DSA"
  description="Support North Carolina DSA by purchasing official merchandise"
>
  <Header />

  <main>
    <!-- Merch Section -->
    <section class="section merch-section">
      <div class="container">
        <h1>DSA Merchandise</h1>
        <p class="intro-text">
          Support North Carolina DSA by purchasing official merchandise. All
          proceeds help fund our organizing work across the state.
        </p>

        <!-- Shopify Buy Button -->
        <div id="collection-component-1770002679393"></div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script type="text/javascript">
/*<![CDATA[*/
(function() {
  var scriptURL =
    "https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js";
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }
  function loadScript() {
    var script = document.createElement("script");
    script.async = true;
    script.src = scriptURL;
    (document.getElementsByTagName("head")[0]
      || document.getElementsByTagName("body")[0]).appendChild(script);
    script.onload = ShopifyBuyInit;
  }
  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: "dsa-merch-test.myshopify.com",
      storefrontAccessToken: "e155743187e099d1b124c991af66dd6b",
    });
    ShopifyBuy.UI.onReady(client).then(function(ui) {
      ui.createComponent("collection", {
        id: "294823952446",
        node: document.getElementById("collection-component-1770002679393"),
        moneyFormat: "%24%7B%7Bamount%7D%7D",
        options: {
          "product": {
            "styles": {
              "product": {
                "@media (min-width: 601px)": {
                  "max-width": "calc(33.33333% - 30px)",
                  "margin-left": "30px",
                  "margin-bottom": "50px",
                  "width": "calc(33.33333% - 30px)",
                },
                "img": {
                  "height": "calc(100% - 15px)",
                  "position": "absolute",
                  "left": "0",
                  "right": "0",
                  "top": "0",
                },
                "imgWrapper": {
                  "padding-top": "calc(75% + 15px)",
                  "position": "relative",
                  "height": "0",
                },
              },
              "title": {
                "font-family": "Avant Garde, sans-serif",
                "font-weight": "normal",
              },
            },
            "text": {
              "button": "Add to cart",
            },
          },
          "productSet": {
            "styles": {
              "products": {
                "@media (min-width: 601px)": {
                  "margin-left": "-30px",
                },
              },
            },
          },
          "modalProduct": {
            "contents": {
              "img": false,
              "imgWithCarousel": true,
              "button": false,
              "buttonWithQuantity": true,
            },
            "styles": {
              "product": {
                "@media (min-width: 601px)": {
                  "max-width": "100%",
                  "margin-left": "0px",
                  "margin-bottom": "0px",
                },
              },
              "title": {
                "font-family": "Helvetica Neue, sans-serif",
                "font-weight": "bold",
                "font-size": "26px",
                "color": "#4c4c4c",
              },
            },
            "text": {
              "button": "Add to cart",
            },
          },
          "option": {},
          "cart": {
            "text": {
              "total": "Subtotal",
              "button": "Checkout",
            },
            "popup": false,
          },
          "toggle": {},
        },
      });
    });
  }
})();
/*]]>*/
</script>
<style>
.merch-section {
  padding: 3rem 0;
  min-height: 60vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

h1 {
  color: var(--red-primary);
  font-size: 2.5rem;
  margin-bottom: 1rem;
  text-align: center;
}

.intro-text {
  font-size: 1.1rem;
  text-align: center;
  margin-bottom: 3rem;
  color: var(--gray-medium);
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}

.section {
  padding: 4rem 0;
}

#collection-component-1770002431234 {
  margin-top: 2rem;
}
</style>
